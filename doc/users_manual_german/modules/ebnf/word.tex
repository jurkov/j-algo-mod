\section{Der Rücksprung-Algorithmus}

\subsection{Die Arbeitsfläche}

Die Arbeitsfläche des Rücksprungalgorithmus ist in vier Bereiche aufgeteilt.


\bigskip
\centerpic{ebnf/rs_full.png}{.8}{Der Rücksprungalgorithmus}
\bigskip

\begin{itemize}
	\item Syntaxdiagramm-Ansicht \\
				die Syntaxdiagramme werden hier grafisch dargestellt. Darüber hinaus erfolgt die 
				Steuerung während des Algorithmus’ durch Anklicken der Diagramme in dieser Ansicht.

  \item Keller \\
				Hier werden alle Rücksprungadressen dargestellt, die während des Algorithmus’ auf 
				den Keller gelegt werden.

  \item Kontrollbereich \\
				Hier wird das Wort ausgegeben, das während des Algorithmus’ erzeugt wurde. Darüber 
				hinaus kann hier ein Wort eingegeben werden, das erzeugt werden soll, der 
				Algorithmus wird von hier gestartet. Zusätzlich bietet der Kontrollbereich die 
				Möglichkeit, die Darstellung der Syntaxdiagramme in der Syntaxdiagramm-Ansicht 
				anzupassen.

  \item Erklärungsbereich  \\
  			Hier werden während des Ablaufes des Algorithmus’ Erklärungen zu den einzelnen 
  			Algorithmusschritten ausgegeben. 
\end{itemize}

\subsection{Steuerung des Algorithmus}

Aufgabe des Bereichs ‚Rücksprungalgorithmus’ ist es, den Algorithmus der Worterzeugung zu visualisieren. Er repräsentiert den Ablauf eines Weges durch ein Syntaxdiagramm-System und erzeugt während des Ablaufes ein Wort, das sich aus den passierten Terminalsymbolen zusammensetzt. Das Modul ist dabei nicht in der Lage, Entscheidungen über die Wegewahl bezüglich der Erzeugung eines Wortes selbst zu treffen. Vielmehr soll er dem Nutzer helfen, eigene Durchläufe und Sprünge zwischen den einzelnen Diagrammen zu überprüfen.

Im Folgenden wird die Steuerung des Algorithmus’ erläutert:

\subsubsection{Eingabe eines Wortes}

Bevor der Algorithmus gestartet wird, besteht die Möglichkeit, im Kontrollbereich ein Wort einzugeben, welches während des Algorithmus erzeugt werden soll. Dieses kann einfach in das Textfeld eingegeben werden, welches mit ‚Zu erzeugendes Wort’ bezeichnet ist. Die Eingabe eines Wortes, welches erzeugt werden soll, ist optional. Es ist genauso möglich, kein Wort einzugeben und die Generierung von Wörtern so zu testen, oder den Button 'Wort erzeugen' im Kontrollbereich zu klicken, der automatisch ein Wort - welches auch mit dem Algorithmus erzeugt werden kann - generiert (Dabei kann es sich aber auch um das leere Wort handeln, falls das Syntax-Diagramm-System dieses ermöglicht).

\subsubsection{Start des Algorithmus}

Nach der (optionalen) Eingabe eines Wortes kann der Algorithmus gestartet werden. Dies ist über einen Klick auf den Button ‚Algorithmus starten’ im Kontrollbereich, oder über das Menü Rücksprung-Algorithmus-> Algorithmus starten möglich.

Anmerkung: Besteht das im Schritt 1 eingegebene Wort nicht ausschließlich aus in den Syntax-Diagrammen vorhandenen Terminalsymbolen, so ist die Erzeugung eines solchen Wortes prinzipiell nicht möglich. Das Programm wird ein solches Wort zurückweisen und den Algorithmus nicht starten.

Ist der Algorithmus gestartet, so wird die aktuelle Position in einem der gegebenen Programme durch einen roten Punkt gekennzeichnet. 


\bigskip
\centerpic{ebnf/rs_dot.png}{.8}{}
\bigskip

Zu Beginn des Algorithmus wird dieser Punkt am Anfang des Startdiagrammes stehen.

\subsubsection{Wählen eines Weges durch ein Syntax-Diagramm}

Um einen Weg durch ein Syntax-Diagramm zu wählen, können einzelne Elemente des Diagrammes in der Syntax-Diagramm-Anzeige direkt angeklickt werden. Folgende Elemente können angeklickt werden: Erreichbare Terminalsymbole und Variable, erreichbare und leere Verzweigungen sowie erreichbare Ausgänge von Syntax-Diagrammen.

\subsubsection{Passieren eines Terminalsymboles}

Um ein Terminalsymbol zu passieren, kann dieses einfach angeklickt werden. Dies ist nur möglich, wenn das entsprechende Terminalsymbol von der aktuellen Position im Syntax-Diagramm zu erreichen ist. Ist ein Terminalsymbol zu erreichen, so wird es blau hervorgehoben, sobald man mit der Maus über das Symbol fährt. Passierte Terminalsymbole werden an das Ende des erzeugten Wortes im Kontrollbereich angehängt.

\bigskip
\centerpic{ebnf/rs_terminal.png}{.8}{}
\bigskip

\subsubsection{Passieren einer Variable}

Um eine Variable zu passieren, kann diese einfach angeklickt werden. Dies ist nur möglich, wenn die entsprechende Variable von der aktuellen Position im Syntax-Diagramm zu erreichen ist. Ist eine Variable zu erreichen, so wird sie blau hervorgehoben, sobald man mit der Maus über die Variable fährt. Wird eine Variable passiert, so wird ihre Rücksprungadresse auf den Keller gelegt. Dem Passieren einer Variable folgt stets ein Sprung in ein Syntax-Diagramm.

\bigskip
\centerpic{ebnf/rs_variable.png}{.8}{}
\bigskip

\subsubsection{Sprung in ein Syntax-Diagramm}

Dem Sprung in ein Syntax-Diagramm geht stets das Passieren einer Variable voraus. Um in ein Syntax-Diagramm zu springen, muss einfach mit der Maus über das entsprechende Syntax-Diagramm in der Syntaxdiagramm-Ansicht gefahren werden, dieses wird dann mit einem blauen Rahmen umrandet. Durch den Klick auf das Diagramm wird der Sprung ins Diagramm durchgeführt. Ein Sprung ist nur möglich, wenn der Name des Diagrammes, mit dem Inhalt der zuvor passierten Variable übereinstimmt. Andernfalls wird der Algorithmus den Sprung zurückweisen.

\bigskip
\centerpic{ebnf/rs_frame.png}{.8}{}
\bigskip

\subsubsection{Passieren einer leeren Verzweigung}

Um eine leere Verzweigung zu passieren, kann diese einfach angeklickt werden. Dies ist nur möglich, wenn die entsprechende Verzweigung von der aktuellen Position im Syntax-Diagramm zu erreichen ist. Ist eine leere Verzweigung zu erreichen, so wird sie blau hervorgehoben, sobald man mit der Maus über die Variable fährt. Beim Klick auf eine leere Verzweigung wird das erzeugte Wort nicht verändert. Es ändert sich lediglich die Position im Syntax-Diagramm.

\bigskip
\centerpic{ebnf/rs_mouseoverline.png}{.8}{}
\bigskip

\subsubsection{Verlassen eines Syntax-Diagrammes}

Ist nach dem Passieren eines Terminalsymboles, einer Variable oder leeren Verzweigung, sowie dem Rücksprung in ein Syntax-Diagramm nur noch der Ausgang des Diagrammes zu erreichen, so wird der Algorithmus das Diagramm automatisch verlassen. Doch nicht immer ist der Weg zum Ausgang die einzige Möglichkeit. In solchen Situationen muss man selbst entscheiden, ob das Diagramm verlassen werden soll. \\

Um das Diagramm zu verlassen, muss einfach in der Syntaxdiagramm-Anzeige auf den Ausgang des Diagrammes geklickt werden. Das Verlassen des Diagrammes wird nur durchgeführt, wenn der Ausgang des Diagrammes von der aktuellen Position im Diagramm erreicht werden kann. Der Ausgang des Diagrammes wird dann beim Fahren mit der Maus über den Ausgang blau hervorgehoben. \\

\bigskip
\centerpic{ebnf/rs_mouseoverexit.png}{.8}{}
\bigskip

Dem Verlassen des Diagrammes folgt entweder der Rücksprung in ein Diagramm, oder das Ende des Algorithmus. \\

\subsubsection{Rücksprung in ein Syntax-Diagramm}

Wurde ein Syntax-Diagramm verlassen, so kann ein Rücksprung in ein Diagramm folgen. Der Rücksprung folgt immer dann, wenn noch Rücksprungadressen auf dem Keller liegen. Um einen Rücksprung durchzuführen, muss einfach in der Syntaxdiagramm-Anzeige die Rücksprungmarke einer Variable in einem Diagramm angeklickt werden. Diese werden, falls ein Rücksprung möglich ist, beim Fahren mit der Maus über die Marke blau hervorgehoben.

\bigskip
\centerpic{ebnf/rs_keller.png}{.8}{}
\bigskip

Ein Rücksprung wird nur durchgeführt, wenn die Nummer der angeklickten Rücksprungmarke mit der obersten Adresse auf dem Keller übereinstimmt. Die oberste Adresse wird dann vom Keller gelöscht, der Weg kann hinter der Variable fortgesetzt werden, zu der zurückgesprungen wurde. Stimmen Rücksprungmarke und oberste Adresse auf dem Keller nicht überein, so wird der Rücksprung vom Algorithmus zurückgewiesen.

\bigskip
\centerpic{ebnf/rs_variable_keller.png}{.8}{}
\bigskip

\subsubsection{Ende des Rücksprungalgorithmus}

Wird ein Syntax-Diagramm verlassen und es befindet sich keine Rücksprung-Adresse mehr auf dem Keller, so endet der Algorithmus. Er endet jedoch nur dann erfolgreich, wenn das Ende des Startdiagrammes erreicht wurde, und das vor Beginn des Algorithmus eingegebene Wort erzeugt wurde. Andernfalls wird der Algorithmus mit einer Fehlermeldung enden.

\subsubsection{Fehler während des Algorithmusdurchlaufes}

Nicht immer werden Fehler während des Laufens durch ein Syntax-Diagramm sofort erkannt und vom Algorithmus zurückgewiesen. So kann es z.B. passieren, dass das eingegebene Wort komplett erzeugt, der Ausgang des Startdiagrammes aber noch nicht erreicht wurde. Genauso kann ein anderes Wort als die Eingabe erzeugt worden sein. In einem solchen Fall wird der Algorithmus die Weiterarbeit verweigern. Es bestehen die Möglichkeiten, einzelne, falsche Schritte rückgängig zu machen, oder den Algorithmus komplett zurück zu setzen.

\subsubsection{Schritte rückgängig machen}

Um einen Schritt im Algorithmus rückgängig zu machen, gibt es zwei Möglichkeiten. Zum einen den Klick auf das entsprechende Symbol in der Toolbar am oberen Fensterrand \icon{ebnf/undo.png}{0}{0}{.5}, oder die Auswahl über das Menü Rücksprung-Algorithmus -> Schritt rückgängig.

\subsubsection{Schritte wiederherstellen}

Um einen Schritt im Algorithmus wiederherzustellen, gibt es zwei Möglichkeiten. Zum einen den Klick auf das entsprechende Symbol in der Toolbar am oberen Fensterrand \icon{ebnf/redo.png}{0}{0}{.5}, oder die Auswahl über das Menü Rücksprung-Algorithms -> Schritt wiederherstellen.

\subsubsection{Den Rücksprungalgorithmus zurücksetzen}

Der Klick auf den Button \textsc{Algorithmus zurücksetzen} im Kontrollbereich ermöglicht das Zurücksetzen des Algorithmus in die Ausgangsposition. Einzelne Schritte können von hier aus wieder hergestellt werden. Es kann aber auch ein neues Wort eingegeben und der Algorithmus neu gestartet werden.

\subsubsection{Verlassen des Rücksprungalgorithmus-Bereiches}

Der Rücksprungalgorithmus-Bereich kann über den Button \textsc{Zur Syntaxdiagrammanzeige wechseln} im Kontrollbereich verlassen werden. Das Programm kehrt dann in die Syntaxdiagramm-Anzeige zurück. Die gleiche Funktionalität bietet die Auswahl im Menü Rücksprung-Algorithmus -> Algorithmus verlassen. 

\newpage
